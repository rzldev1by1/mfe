(this["webpackJsonp@coreui/coreui-pro-react-admin-template-starter"]=this["webpackJsonp@coreui/coreui-pro-react-admin-template-starter"]||[]).push([[6],{1005:function(e,t,a){"use strict";a.r(t);var l=a(41),n=a(46),s=a(57),c=a(56),i=a(253),r=a(58),o=a(0),m=a.n(o),d=a(943),u=a(949),p=a(945),g=a(964),h=a(950),b=a(948),f=a(952),E=a(946),x=a(247),k=a.n(x),N=a(248),y=(a(972),a(1004)),S=a(998),v=a(999),P=(a(973),function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(s.a)(this,Object(c.a)(t).call(this,e))).onClickUpdateTable=function(){var e=a.props.fields.map((function(e){return e.isVisible=a.columnForm.current[e.id].checked,e}));a.props.updateTableColumn(e),a.props.toggle()},a.modalClose=function(){a.setState({modalClose:!a.state.modalClose})},a.setEnableElements=function(){},a.state={modalClose:!1},a.columnForm=m.a.createRef(),a}return Object(r.a)(t,e),Object(n.a)(t,[{key:"componentDidUpdate",value:function(){this.props.isOpen&&this.setEnableElements()}},{key:"render",value:function(){var e=this;return m.a.createElement(y.a,{isOpen:!0===this.state.modalClose?!this.props.isOpen:this.props.isOpen,toggle:this.props.toggle,className:"modal-company animated fadeIn editcol-modal",backdrop:"static",style:{maxWidth:"1200px",width:"1000px"}},m.a.createElement(S.a,{toggle:this.props.toggle,tag:"div",className:"editcol-header"},m.a.createElement("h3",null,m.a.createElement("strong",null,"Edit Columns")),m.a.createElement("p",{className:"d-block mb-0 p-0"},"Please select column to show")),m.a.createElement(v.a,null,m.a.createElement("div",{className:"container-fluid px-4"},m.a.createElement(p.a,null,m.a.createElement(E.a,{xs:"12"},m.a.createElement("form",{ref:this.columnForm},m.a.createElement("div",{className:"form-row"},this.props.fields.map((function(t,a){return m.a.createElement("div",{className:"form-group col-12 col-sm-6 col-md-4 mb-1",key:t.id},m.a.createElement("div",{className:"form-check"},m.a.createElement("label",{className:"check-text"},m.a.createElement("input",{type:"checkbox",className:"eye",id:t.id,name:t.id,defaultChecked:t.isVisible,value:t.value,disabled:t.isDisabled,onChange:e.setEnableElements}),m.a.createElement("span",{className:"glyphicon glyphicon-eye-open checked"}),m.a.createElement("span",{className:"glyphicon glyphicon-eye-close unchecked"}),t.checkboxLabelText)))})))))),m.a.createElement(p.a,{className:"mt-4"},m.a.createElement("div",{className:"col-12"},m.a.createElement("div",{className:""},m.a.createElement("button",{type:"button",className:"btn btn-primary btn-editcol",onClick:this.onClickUpdateTable},"Update Table")))))))}}]),t}(o.Component)),C=a(963),H=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(s.a)(this,Object(c.a)(t).call(this,e))).getLocalStorageFilterData=function(){if(localStorage.getItem("filterStockHolding")&&"undefined"!==localStorage.getItem("filterStockHolding")){var e=JSON.parse(localStorage.getItem("filterStockHolding"));e&&a.setState((function(){return{filterStockHolding:e}}))}else localStorage.setItem("filterStockHolding",JSON.stringify(a.state.filterStockHolding))},a.updateFilterData=function(e){localStorage.getItem("filterStockHolding")&&(localStorage.removeItem("filterStockHolding"),localStorage.setItem("filterStockHolding",JSON.stringify(e)))},a.toggleAddFilterStockHolding=function(){var e=a.state.filterStockHolding;e.showPopup=!e.showPopup,a.setState({filterStockHolding:e}),a.updateFilterData(e)},a.getLocalStorageColumnData=function(){},a.updateTableColumn=function(e){},a.setPagination=function(e){var t=Object(i.a)(a),l=e,n=0;l.length>t.state.displayPage?(n=(n=l%t.state.displayPage)>0&&n<50?parseInt(l.length/t.state.displayPage)+1:l.length/t.state.displayPage,t.setState({maxPage:n})):t.setState({maxPage:1}),t.setState({displayContent:"FOUND",masterResStockHolding:l,totalRows:l.length}),t.numberEventClick(t.state.currentPage),localStorage.setItem("masterResStockHolding",JSON.stringify(l))},a.loadStockHolding=function(){var e=Object(i.a)(a);e.setState({isLoaded:!0,isSearch:!0,currentPage:1,startIndex:0,lastIndex:0,totalRows:0,maxPage:0}),k.a.get(N.a.getBaseUrl()+"stockholding").then((function(e){return e.data})).catch((function(t){return e.setState({displayContent:"NOT_FOUND",isLoaded:!1,isSearch:!1}),t.response,t})).then((function(t){t.data&&e.setPagination(t.data),e.setState({isLoaded:!1,isSearch:!1})}))},a.searchData=function(){var e=Object(i.a)(a);e.setState({isLoaded:!0,isSearch:!0,currentPage:1,startIndex:0,lastIndex:0,totalRows:0,maxPage:0,displayContent:"NOT_FOUND"});var t={},l=e.searchForm.current.searchForm.value;t.searchParam=l,k.a.get(N.a.getBaseUrl()+"stockholding",{params:t,headers:{"Content-Type":"application/json",Accept:"application/json"}}).then((function(e){return e.data})).catch((function(t){return e.setState({displayContent:"NOT_FOUND",isLoaded:!1,isSearch:!1}),t.response,t})).then((function(t){t.data&&e.setPagination(t.data),e.setState({isLoaded:!1,isSearch:!1})}))},a.toggleDisplayMoreColumn=function(){a.setState((function(e){return{showEditColumn:!e.showEditColumn}}))},a.triggerShowFilter=function(e){e.stopPropagation(),a.setState((function(e){return{showFilter:!e.showFilter}}))},a.triggerChangeFilter=function(e){a.setState((function(t){return t.filterStockHolding.item[e].isVisible=!t.filterStockHolding.item[e].isVisible,t}))},a.changeStartIndex=function(e){a.setState({startIndex:parseInt(e)*a.state.displayPage-a.state.displayPage})},a.changeLastIndex=function(e){a.setState({lastIndex:parseInt(e)*a.state.displayPage})},a.numberEventClick=function(e){var t=parseInt(e);a.setState({currentPage:t}),a.changeStartIndex(t),a.changeLastIndex(t)},a.nextPageClick=function(){a.state.currentPage<a.state.maxPage&&a.setState((function(e){e.currentPage++,a.changeStartIndex(e.currentPage),a.changeLastIndex(e.currentPage)}))},a.backPageClick=function(){a.state.currentPage>1&&a.setState((function(e){e.currentPage--,a.changeStartIndex(e.currentPage),a.changeLastIndex(e.currentPage)}))},a.rowClicked=function(e){a.props.history.push("/stockholding/"+encodeURIComponent(e))},a.showHeader=function(){return m.a.createElement("tr",null,a.state.columns.map((function(e,t){if(e.isVisible)return"onHandQty"===e.id||"onHandWeight"===e.id||"expectedInQty"===e.id||"expectedInWeight"===e.id||"expectedOutQty"===e.id?m.a.createElement("th",{className:"p-3 text-right align-middle",key:t,width:"10%"},e.tableHeaderText):m.a.createElement("th",{className:"p-3 text-left align-middle",key:t,width:"10%"},e.tableHeaderText)})),m.a.createElement("th",{className:"p-3 text-left align-middle"},m.a.createElement("button",{type:"button",className:"btn btn-outline-light editColumnBtn",onClick:a.toggleDisplayMoreColumn},m.a.createElement("span",{className:"glyphicon glyphicon-pencil editColumnLogo"}))))},a.showData=function(){return a.state.masterResStockHolding.slice(a.state.startIndex,a.state.lastIndex).map((function(e,t){return m.a.createElement("tr",{key:t,onClick:function(){return a.rowClicked(e.product)}},a.state.columns.map((function(t,a){if(t.isVisible)return"onHandQty"===t.id||"onHandWeight"===t.id||"expectedInQty"===t.id||"expectedInWeight"===t.id||"expectedOutQty"===t.id?m.a.createElement("td",{key:a,className:"px-3 text-right"},e[t.key]):m.a.createElement("td",{key:a,className:"px-3 text-left"},e[t.key])})),m.a.createElement("td",{className:"px-3 text-left"},m.a.createElement("div",{className:"dot"}),m.a.createElement("div",{className:"dot"}),m.a.createElement("div",{className:"dot"})))}))},a.createFilter=function(e,t){return m.a.createElement("ul",{className:"select"+(e.isVisible?" expand":""),id:"select",name:"select"},m.a.createElement("li",{className:"expand-style"},m.a.createElement("input",{type:"radio",className:"select-close",id:e.id+"-close",name:e.id,value:""}),m.a.createElement("span",{className:"select-label select-label-placeholder"},e.text)),m.a.createElement("li",{className:"select-items"},m.a.createElement("input",{type:"radio",className:"select-expand",id:e.id+"-opener",name:e.id}),m.a.createElement("label",{className:"select-closeLabel",htmlFor:e.id+"-close",onClick:function(){return a.triggerChangeFilter(t)}}),m.a.createElement("ul",{className:"select-options"},m.a.createElement("li",{className:"select-option"},m.a.createElement("input",{type:"radio",className:"select-input",name:e.id}),m.a.createElement("label",{className:"select-label",htmlFor:e.id+"-test123"},"TEST123")),m.a.createElement("li",{className:"select-option"},m.a.createElement("input",{type:"radio",className:"select-input",name:e.id}),m.a.createElement("label",{className:"select-label option-radius",htmlFor:e.id+"-test234"},"TEST234"))),m.a.createElement("label",{className:"select-expandLabel",htmlFor:e.id+"-opener",onClick:function(){return a.triggerChangeFilter(t)}})))},a.state={isVisible:[],isLoaded:!1,isSearch:!1,displayContent:"INIT",showEditColumn:!1,showFilter:!1,notFoundMessage:"",currentPage:1,startIndex:0,lastIndex:0,displayPage:50,totalRows:0,maxPage:0,columns:[{id:"site",checkboxLabelText:"Site",tableHeaderText:"Site",isVisible:!0,key:"site"},{id:"product",checkboxLabelText:"Product",tableHeaderText:"Product",isVisible:!0,key:"product"},{id:"description",checkboxLabelText:"Description",tableHeaderText:"Description",isVisible:!0,key:"product_name"},{id:"status",checkboxLabelText:"Status",tableHeaderText:"Status",isVisible:!0,key:"status"},{id:"uom",checkboxLabelText:"UoM",tableHeaderText:"UoM",isVisible:!0,key:""},{id:"onHandQty",checkboxLabelText:"On Hand Qty",tableHeaderText:"On Hand Qty",isVisible:!0,key:"qty_lcd"},{id:"onHandWeight",checkboxLabelText:"On Hand Weight",tableHeaderText:"On Hand Weight",isVisible:!0,key:"weight"},{id:"expectedInQty",checkboxLabelText:"Expected In Qty",tableHeaderText:"Expected In Qty",isVisible:!0,key:"qty_lcd_expected"},{id:"expectedInWeight",checkboxLabelText:"Expected In Weight",tableHeaderText:"Expected In Weight",isVisible:!0,key:"wgt_expected"},{id:"expectedOutQty",checkboxLabelText:"Expected Out Qty",tableHeaderText:"Expected Out Qty",isVisible:!0,key:"qty_lcd_committed"}],filterStockHolding:{showPopup:!1,item:{site:{id:"site",text:"Site",isVisible:!1},uom:{id:"uom",text:"UoM",isVisible:!1},status:{id:"status",text:"Status",isVisible:!1}}},masterResStockHolding:[]},a.searchForm=m.a.createRef(),a}return Object(r.a)(t,e),Object(n.a)(t,[{key:"componentDidMount",value:function(){if(localStorage.getItem("masterResStockHolding")&&"undefined"!==localStorage.getItem("masterResStockHolding")){var e=JSON.parse(localStorage.getItem("masterResStockHolding"));e&&(this.setState((function(){return{masterResStockHolding:e}})),this.setPagination(e))}else this.loadStockHolding()}},{key:"render",value:function(){var e,t=this;switch(this.state.displayContent){case"FOUND":e=m.a.createElement("div",{className:"col-12 p-0"},m.a.createElement("div",{className:this.state.isSearch?"spinner":"d-none"}),m.a.createElement("div",{className:this.state.isSearch?"d-none":""},m.a.createElement(d.a,{className:"table-condensed table-responsive table-striped clickable-row rounded-bottom-175 mb-0",size:"sm"},m.a.createElement("thead",null,this.showHeader()),m.a.createElement("tbody",null,this.showData())),m.a.createElement("div",{className:"bg-transparent card-footer text-center border-company border-top-0"},m.a.createElement(C.a,{backPageClick:this.backPageClick,nextPageClick:this.nextPageClick,totalRows:this.state.totalRows,displayPage:this.state.displayPage,currentPage:this.state.currentPage,maxPage:this.state.maxPage,isActive:this.state.isActive,numberEventClick:this.numberEventClick}))));break;default:e=m.a.createElement("div",{className:"col-12 d-flex h-100 position-relative"},m.a.createElement("div",{className:"bg-transparent mx-auto my-auto text-center"},m.a.createElement("div",{className:this.state.isSearch?"":"d-none"},m.a.createElement("div",{className:"spinner"+(this.state.isLoaded?"":" d-none")}),m.a.createElement("p",{className:"NOT_FOUND"===this.state.displayContent?"":"d-none"},this.state.notFoundMessage))))}return m.a.createElement(m.a.Fragment,null,m.a.createElement("div",{className:"animated fadeIn"},m.a.createElement("div",{className:"row"},m.a.createElement("div",{className:"col-12 p-0"},m.a.createElement("div",{className:"row mb-0 p-0"},m.a.createElement("div",{className:"col-12 col-lg-12 col-md-12 col-sm-12"},m.a.createElement(u.a,null,m.a.createElement(p.a,{className:"align-items-center"},m.a.createElement("div",{className:"col-12 col-lg-12 col-md-12 col-sm-12 pl-0"},m.a.createElement(g.a,null,m.a.createElement(h.a,null,m.a.createElement("div",{className:"col-12 col-xl-12 col-lg-12 col-md-12 col-sm-12 p-0"},m.a.createElement("h4",{className:"headerTitle font-weight-bold"},"Stock Holding Summary"))))))))),m.a.createElement("div",{className:"row mb-0 p-0"},m.a.createElement("div",{className:"col-12 col-lg-12 col-md-12 col-sm-12"},m.a.createElement("form",{ref:this.searchForm,onSubmit:function(e){e.preventDefault(),t.searchData()}},m.a.createElement("div",{className:"form-group row mb-0"},m.a.createElement("div",{className:"col-12 col-lg-12 col-md-12 col-sm-12 mb-0"},m.a.createElement(p.a,{className:"align-items-center mb-0"},m.a.createElement("div",{className:"col-12 col-lg-12 col-md-12 col-sm-12 mb-0"},m.a.createElement(g.a,null,m.a.createElement(h.a,null,m.a.createElement("div",{className:"col-12 col-xl-12 col-lg-12 col-md-12 col-sm-12"},m.a.createElement(b.a,{className:"form-group row rounded-top-175 mb-0 border-0"},m.a.createElement("div",{className:"input-group p-2"},m.a.createElement("div",{className:"input-group-prepend bg-white col-9"},m.a.createElement("span",{className:"input-group-text border-0 bg-white p-0"},m.a.createElement("i",{className:"fa fa-search fa-2x iconSpace"})),m.a.createElement("input",{type:"text",className:"form-control border-0",id:"searchForm",name:"searchForm",placeholder:"Enter a Product or Description"})),m.a.createElement("div",{className:"col-3 text-right"},m.a.createElement(f.a,{className:"circle"+(this.state.showFilter?" active":""),onClick:this.triggerShowFilter},m.a.createElement("i",{className:"fa fa-sliders"})),"\xa0","\xa0","\xa0","\xa0",m.a.createElement(f.a,{type:"submit",className:"search rounded-175",onClick:this.searchData},m.a.createElement("strong",null,"Search")))),m.a.createElement("hr",{className:this.state.showFilter?"m-0":" d-none"}),m.a.createElement("div",{className:"input-group p-2"+(this.state.showFilter?"":" d-none")},m.a.createElement(p.a,null,m.a.createElement(E.a,{lg:"auto",md:"2",sm:"6"},"\xa0"),Object.keys(this.state.filterStockHolding.item).map((function(e,a){var l=t.state.filterStockHolding.item[e];return m.a.createElement(E.a,{lg:"auto",md:"5",sm:"6",className:0===a?"":"pl-0",key:a},t.createFilter(l,e))}))))))))))))))),m.a.createElement("div",{className:"row"},m.a.createElement("div",{className:"d-flex col-12 col-xl-12 col-lg-12 col-md-12 col-sm-12"},e))))),m.a.createElement(P,{isOpen:this.state.showEditColumn,toggle:this.toggleDisplayMoreColumn,fields:this.state.columns,updateTableColumn:this.updateTableColumn}))}}]),t}(o.Component);t.default=H},963:function(e,t,a){"use strict";var l=a(41),n=a(46),s=a(57),c=a(56),i=a(58),r=a(0),o=a.n(r),m=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(s.a)(this,Object(c.a)(t).call(this,e))).numberClickEvent=function(e){a.props.numberEventClick(e.currentTarget.textContent.trim())},a.createPageNumber=function(){if(a.props.maxPage>1){for(var e=[],t=a.props.maxPage,l=0;l<t;l++)e.push(o.a.createElement("li",{className:"btn btn-paging"+(a.props.currentPage===l+1?"-active":""),id:l,name:"pageNumber",key:l,onClick:a.numberClickEvent},l+1));return e}},a.nextPageClick=function(){a.props.nextPageClick()},a.backPageClick=function(){a.props.backPageClick()},a.pageStartIndexOf=function(){return a.props.currentPage*a.props.dsiplayPage-a.props.dsiplayPage+1},a.pageLastIndexOf=function(){if(!(a.props.totalRows<a.props.dsiplayPage))return a.props.currentPage*a.props.dsiplayPage;a.pageStartIndexOf()},a.state={totalRows:e.totalRows},a}return Object(i.a)(t,e),Object(n.a)(t,[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("button",{className:"btn p-0 btn-pagingNav"+(this.props.currentPage>1?"":"-inactive"),onClick:this.backPageClick},o.a.createElement("i",{className:"fa fa-chevron-left","aria-hidden":"true"})),o.a.createElement("span",null,this.createPageNumber()),o.a.createElement("button",{className:"btn p-0 btn-pagingNav"+(this.props.currentPage<this.props.maxPage?"":"-inactive"),onClick:this.nextPageClick},o.a.createElement("i",{className:"fa fa-chevron-right text-center","aria-hidden":"true"})))}}]),t}(r.Component);t.a=m},972:function(e,t,a){},973:function(e,t,a){}}]);
//# sourceMappingURL=6.8c717fb9.chunk.js.map